<form action="jsp/site/Portal.jsp">
    <div class="form-group row">
            <input type="hidden" name="page" value="initializer"/>
            <label for="name" class="col-sm-12 col-md-2 col-form-label">#i18n{initializer.initialize.searchComponent.label} ?</label>
            <div class="col-sm-12 col-md-6">
                    <input type="text" id="search_component" name="search_component" data-provide="typeahead" value="" maxlength="50" class="form-control typeahead twitter-typeahead" placeholder="#i18n{initializer.initialize.searchComponent.placeholder}" aria-describedby="searchComponentHelpBlock" />
                    <small id="searchComponentHelpBlock" class="form-text text-muted">#i18n{initializer.initialize.searchComponent.help}</small>
            </div>
    </div>
    <div class="form-group row">
            <div class="col-sm-12 col-md-6" id="selected_comp">
            </div>
    </div>
    <div class="form-group row">
        <div class="col-sm-12 col-md-6 col-md-offset-3">
            <button type="submit"  id="btn_download_site_pom" name="action_doDownloadPomSite">#i18n{initializer.initialize.generatePom}</button>
        <div>
    </div>
</form>


<script src="js/bootstrap3-typeahead.min.js"></script>
<script>
var data=[<#list components_list as component>'${(component.artifactId)!''}',</#list>]
 
$("#search_component").typeahead({
  source: data,
  autoSelect: true,
  afterSelect: function(item) {
    getFullComponent( item );
  }
});
 
function getFullComponent( item )
{
    $.ajax({
        type: "get",
        url: "jsp/site/Portal.jsp",
        data: "page=initializer&action=getFullComponent&id="+item,
        success: function( json )
        {
            $("#selected_comp").append('<input type="checkbox" checked name="comp" value="'+json.artifact_id+'"/>     '+json.artifact_id+'   version : '+json.version+'<br>');
            return json;
        }
    });
}
</script>